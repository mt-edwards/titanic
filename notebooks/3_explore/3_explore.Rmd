---
title: "Explore"
author: "Matthew Edwards"
date: "30/09/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(skimr)
library(here)
```

## Read training data

```{r}
titanic <- read_rds(here("data", "titanic_train.rds"))
```

## Numerical statistics

```{r results='asis'}
skim(titanic) %>% skimr::kable()
```

## Graphical statistics

```{r}
ggplot(data = titanic) +
  geom_bar(aes(x = survived, fill = ticket_class), position = "fill") +
  labs(title = "Proportion of Ticket Class that Survived",
       fill = "Ticket Class",
       x = "Survived",
       y = "Proportion")
```

```{r}
ggplot(data = titanic) +
  geom_bar(aes(x = fct_reorder(title, survived, function(x) mean(as.numeric(x))), fill = survived),
    position = "fill"
  ) +
  coord_flip() +
  labs(title = "Proportion of Titles that Survived",
       fill = "Survived",
       x = "Proportion",
       y = "Title")
```
